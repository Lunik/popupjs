function _Popup(){function t(t){return t&&(t=t.toString(),t.indexOf("%")!==-1&&(t=t.split("%")[0],t=parseInt(t*$(window).width()/100,10))),t}function i(t){return t&&(t=t.toString(),t.indexOf("%")!==-1&&(t=t.split("%")[0],t=parseInt(t*$(window).height()/100,10))),t}function s(t){return i(t)}this.init=function(o){this.posX=s(o.pos.x),this.posY=s(o.pos.y),this.width=t(o.width),this.height=i(o.height),this.title=o.title,this.html=o.html.clone(!0,!0),this.closeBut=o.closeBut},this.draw=function(){var t=$("<div>").addClass("popupShadow").click(function(){this.remove()})
this.selector=t
var i=$("<div>").addClass("popupContainer").click(function(t){t.stopPropagation()}).css("width",this.width+"px").css("height",this.height+"px").css("margin-top",this.posY+"px").css("margin-left",this.posX+"px")
this.closeBut&&$("<button>").addClass("popupClose").css("margin-top",-15).css("margin-left",this.width-15).click(function(){t.remove()}).appendTo(i),i.append($("<h1>").addClass("popupTitle").append(this.title),$("<p>").addClass("popupHtml").append(this.html)).appendTo(t),t.appendTo($("body"))},this.center=function(){this.posX=null,this.remove(),this.draw()},this.remove=function(){this.selector.remove()}}$.popupjs=new _Popup
